{% extends "base.html" %}

{% block content %}
<div class="id-form-wrapper">
    <div class="id-form-header">
        <h1 class="form-card-title">View Submitted Form</h1>
    </div>

    <!-- Image Section (Full Width) -->
    <div class="form-card id-form-card" style="margin-bottom: 2rem; position: relative;">
        <a href="{{ url_for('main.upload', filename=form.id) }}" data-toggle="lightbox" data-caption="{{ form.first_name }}">
            <img src="{{ url_for('main.upload', filename=form.id) }}" class="img-fluid" width="500px" height="500px">
        </a>
        <!-- Download Button -->
        <a href="{{ url_for('main.download', filename=form.id) }}" class="download-btn" title="Download Image">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        </a>
    </div>

    <style>
        .download-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #FF7A00;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .download-btn:hover {
            background-color: #CC6200;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 122, 0, 0.3);
            color: white;
        }

        .download-btn svg {
            width: 20px;
            height: 20px;
        }
    </style>

    <!-- Single Info Card -->
    <div class="form-card id-form-card">
        <!-- Names (vertical) -->
        <div class="id-form-field">
            <label class="id-form-label">First Name</label>
            <p class="view-form-value">{{ form.first_name }}</p>
        </div>

        <div class="id-form-field">
            <label class="id-form-label">Middle Name</label>
            <p class="view-form-value">{{ form.middle_name if form.middle_name else '' }}</p>
        </div>

        <div class="id-form-field">
            <label class="id-form-label">Last Name</label>
            <p class="view-form-value">{{ form.last_name }}</p>
        </div>

        <!-- Height, Weight, Gender (3 columns) -->
        <div class="id-form-row">
            <div class="id-form-field">
                <label class="id-form-label">Height (in cm)</label>
                <p class="view-form-value">{{ form.height }}</p>
            </div>
            <div class="id-form-field">
                <label class="id-form-label">Weight (in kg)</label>
                <p class="view-form-value">{{ form.weight }}</p>
            </div>
            <div class="id-form-field">
                <label class="id-form-label">Gender</label>
                <p class="view-form-value">{{ form.gender }}</p>
            </div>
        </div>

        <!-- State, Eye Color, Hair Color (sections) -->
        <div class="id-form-section">
            <label class="id-form-label">State</label>
            <p class="view-form-value">{{ form.state }}</p>
        </div>
        <div class="id-form-section">
            <label class="id-form-label">Eye Color</label>
            <p class="view-form-value">{{ form.eye_color }}</p>
        </div>
        <div class="id-form-section">
            <label class="id-form-label">Hair Color</label>
            <p class="view-form-value">{{ form.hair_color }}</p>
        </div>

        <!-- Date of Birth -->
        <div class="id-form-section">
            <label class="id-form-label">Birthday (the date you want displayed on your ID)</label>
            <p class="view-form-value">{{ form.date_of_birth.strftime('%Y-%m-%d') }}</p>
        </div>

        <!-- Address -->
        <div class="id-form-section">
            <label class="id-form-label">Street Address</label>
            <p class="view-form-value">{{ form.address }}</p>
        </div>

        <!-- City and Zip Code (2 columns) -->
        <div class="id-form-row">
            <div class="id-form-field">
                <label class="id-form-label">City</label>
                <p class="view-form-value">{{ form.city }}</p>
            </div>
            <div class="id-form-field">
                <label class="id-form-label">Zip Code</label>
                <p class="view-form-value">{{ form.zip_code }}</p>
            </div>
        </div>

        <!-- Organ Donor and Restrictions (2 columns) -->
        <div class="id-form-row">
            <div class="id-form-field">
                <label class="id-form-label">Organ Donor</label>
                <p class="view-form-value">{{ 'Yes' if form.organ_donor else 'No' }}</p>
            </div>
            <div class="id-form-field">
                <label class="id-form-label">Restrictions (Corrective Lenses)</label>
                <p class="view-form-value">{{ 'Yes' if form.restrictions_corrective_lenses else 'No' }}</p>
            </div>
        </div>

        <!-- Submitted At -->
        <div class="id-form-section">
            <label class="id-form-label">Submitted At</label>
            <p class="view-form-value">{{ moment(form.submitted_at).format('LLLL') }}</p>
        </div>
    </div>

    <!-- Submit Button (Centered) -->
    <div class="id-form-submit">
        <a href="{{ url_for('main.index') }}" class="id-form-submit-btn" style="text-align: center;">Back to Home</a>
    </div>
</div>
{% endblock %}